{"version":3,"sources":["./src/app/pages/myaccount/myaccount-routing.module.ts","./src/app/pages/myaccount/myaccount.module.ts","./src/app/pages/myaccount/myaccount.page.ts","./src/app/pages/myaccount/myaccount.page.scss","./src/app/pages/myaccount/myaccount.page.html"],"names":[],"mappings":"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","file":"src_app_pages_myaccount_myaccount_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyaccountPage } from './myaccount.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyaccountPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyaccountPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyaccountPageRoutingModule } from './myaccount-routing.module';\n\nimport { MyaccountPage } from './myaccount.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MyaccountPageRoutingModule\n  ],\n  declarations: [MyaccountPage]\n})\nexport class MyaccountPageModule {}\n","/* eslint-disable @typescript-eslint/naming-convention */\nimport { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { EventsService } from 'src/app/services/events.service';\nimport { LocalService } from 'src/app/services/local.service';\nimport { RestService } from 'src/app/services/rest.service';\nimport { UtilityService } from 'src/app/services/utility.service';\nimport { ActionSheetController } from '@ionic/angular';\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport {\n  FileTransfer,\n  FileUploadOptions,\n  FileTransferObject,\n} from '@ionic-native/file-transfer/ngx';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-myaccount',\n  templateUrl: './myaccount.page.html',\n  styleUrls: ['./myaccount.page.scss'],\n})\nexport class MyaccountPage implements OnInit {\n  loggedUser: any;\n  lastImage: any = null;\n  address: any = '';\n  postcode: any = '';\n  user: any = {};\n  oldpass: any = '';\n  newpass: any = '';\n  settings: any = {};\n  constructor(\n    public localService: LocalService,\n    public restService: RestService,\n    public utilityService: UtilityService,\n    public eventsService: EventsService,\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    public actionSheetCtrl: ActionSheetController,\n    private iab: InAppBrowser,\n    private transfer: FileTransfer,\n    private sanitizer: DomSanitizer\n  ) {\n    this.loggedUser = this.localService.getUser();\n    this.user = this.loggedUser;\n    this.settings = this.localService.getSettings();\n  }\n\n  ngOnInit() {}\n  // image uploading section =========================\n  async presentActionSheet() {\n    const actionSheet = await this.actionSheetCtrl.create({\n      header: 'Select Image Source',\n      buttons: [\n        {\n          text: 'Select from Library',\n          handler: () => {\n            this.takePicture(CameraSource.Photos);\n          },\n        },\n        {\n          text: 'Use Camera',\n          handler: () => {\n            this.takePicture(CameraSource.Camera);\n          },\n        },\n      ],\n    });\n    actionSheet.present();\n  }\n\n  async takePicture(sourceType) {\n    // Create options for the Camera Dialog\n    const options = {\n      quality: 90,\n      allowEditing: false,\n      resultType: CameraResultType.Uri,\n      source: sourceType,\n    };\n    this.lastImage = await Camera.getPhoto(options);\n    this.uploadImage(this.loggedUser.id);\n  }\n\n  uploadImage(userId) {\n    const options = {\n      fileKey: 'image',\n      fileName: `file-${new Date().getTime()}.jpg`,\n      chunkedMode: false,\n      mimeType: 'multipart/form-data',\n      params: {\n        fileName: `file-${new Date().getTime()}.jpg`,\n        image: `file-${new Date().getTime()}.jpg`,\n      },\n    };\n    const fileTransfer: FileTransferObject = this.transfer.create();\n    this.utilityService.loadingOpen('Uploading...');\n    fileTransfer\n      .upload(\n        this.lastImage.path,\n        this.restService.baseURL + 'user/update_user_image/' + userId,\n        options\n      )\n      .then(\n        (data) => {\n          this.utilityService.loadingClose();\n          console.log(data);\n          // clear the last data\n          this.lastImage = null;\n          // update the loggedUser\n          const response = JSON.parse(data.response);\n          this.localService.setUser(response);\n          this.loggedUser = response;\n          // update menu data\n          this.updateMenuByEvents();\n        },\n        (err) => {\n          console.log(err);\n          this.utilityService.loadingClose();\n        }\n    );\n  }\n\n  updateMenuByEvents() {\n    this.eventsService.publish('menu', 'user');\n  }\n\n  // new update\n  updateProfile() {\n    const updateData = {\n      id: this.user.id,\n      name: this.user.name,\n      phone: this.user.phone,\n      house_number: this.user.house_number,\n      address: this.user.address,\n      postcode: this.user.postcode,\n    };\n    if (this.user.name.length < 2) {\n      return this.utilityService.openAlerts('Oops!', 'Name required.', 'ok');\n    }\n    if (this.user.phone) {\n      if (this.user.phone.length < 8) {\n        return this.utilityService.openAlerts(\n          'Oops!',\n          'Valid mobile number required.',\n          'ok'\n        );\n      }\n    } else {\n      // phone null\n      delete updateData.phone;\n    }\n    if (this.user.address) {\n      if (this.user.address.length < 5) {\n        return this.utilityService.openAlerts(\n          'Oops!',\n          'Valid address required.',\n          'ok'\n        );\n      }\n    } else {\n      // address null\n      delete updateData.address;\n    }\n    if (this.user.postcode) {\n      if (this.user.postcode.length < 2) {\n        return this.utilityService.openAlerts(\n          'Oops!',\n          'Valid postcode required.',\n          'ok'\n        );\n      }\n    } else {\n      // postcode null\n      delete updateData.postcode;\n    }\n\n    this.utilityService.loadingOpen('Updating...');\n    this.restService.postData('user/update_profile', updateData).subscribe(\n      (data) => {\n        this.loggedUser = data;\n        this.localService.setUser(data);\n        this.utilityService.loadingClose();\n        this.utilityService.openAlerts('Done!', 'Successfully updated.', 'ok');\n      },\n      (err) => {\n        this.utilityService.loadingClose();\n        this.utilityService.openAlerts('Oops!', 'Error upating.', 'ok');\n      }\n    );\n  }\n\n  updatePassword() {\n    if (this.oldpass === '' || this.newpass === '') {\n      return this.utilityService.openAlerts(\n        'Oops!',\n        'Both old & new password required.',\n        'ok'\n      );\n    }\n    if (this.newpass.length < 6) {\n      return this.utilityService.openAlerts(\n        'Oops!',\n        'New password must be 6 characters.',\n        'ok'\n      );\n    }\n    this.utilityService.loadingOpen('Updating...');\n    this.restService\n      .postData('user/update_profile', {\n        id: this.loggedUser.id,\n        newpassword: this.newpass,\n        oldpassword: this.oldpass,\n      })\n      .subscribe(\n        (data) => {\n          this.utilityService.loadingClose();\n          this.utilityService.openAlerts('Done!', 'Password updated.', 'ok');\n        },\n        (err) => {\n          this.utilityService.loadingClose();\n          this.utilityService.openAlerts('Oops!', err.error.error, 'ok');\n        }\n      );\n  }\n\n  updateCard() {\n    const browser = this.iab.create(\n      this.settings.STRIPE_CARD_UPDATE_URL + '/' + this.loggedUser.id,\n      '_blank',\n      {\n        location: 'no',\n        hardwareback: 'no',\n        hidenavigationbuttons: 'yes',\n        hideurlbar: 'yes',\n        fullscreen: 'yes',\n        zoom: 'no',\n        clearcache: 'yes',\n        toolbar: 'yes',\n      }\n    );\n\n    browser.on('loadstart').subscribe((e) => {\n      //console.log(e.url);\n      if (e.url === this.settings.STRIPE_SUCCESS_PAYMENT_URL) {\n        // update success\n        browser.close();\n        return this.utilityService.openAlerts(\n          'Done!',\n          'Payment method has been updated.',\n          'ok'\n        );\n      } else if (e.url === this.settings.STRIPE_FAILED_PAYMENT_URL) {\n        // payment failed\n        browser.close();\n        return this.utilityService.openAlerts(\n          'Oops!',\n          'We are unable to add this card as your payment method.',\n          'ok'\n        );\n      }\n    });\n  }\n}\n","export default \"ion-content {\\n  text-transform: uppercase;\\n}\\nion-content ion-item {\\n  font-size: 0.8rem;\\n  border-bottom: 1px solid var(--ion-color-light);\\n}\\nion-content h2 {\\n  text-align: center;\\n  font-size: 1rem;\\n  margin: 15px auto;\\n}\\nion-content .address-heading {\\n  text-align: center;\\n  font-size: 1rem;\\n  margin: 15px auto 5px;\\n  font-weight: 500;\\n}\\nion-content .image-container {\\n  margin: auto;\\n  text-align: center;\\n}\\nion-content .image {\\n  height: 125px;\\n  width: 125px;\\n  border-radius: 50%;\\n}\\nion-content .details {\\n  margin: 15px auto;\\n  font-weight: 400;\\n  color: var(--ion-color-gray);\\n}\\nion-content .details ion-row {\\n  font-weight: 400;\\n  color: var(--ion-color-dark);\\n  font-size: 0.8rem;\\n}\\nion-content .editicon {\\n  height: 20px;\\n  vertical-align: middle;\\n}\\nion-content ion-item:first-child {\\n  border-top: none !important;\\n}\\nion-content .uploader {\\n  position: relative;\\n}\\nion-content .uploader img {\\n  position: absolute;\\n  right: 10px;\\n  bottom: 10px;\\n  height: 30px;\\n}\\nion-content .resetinput {\\n  border: 1px solid #ebebee;\\n  width: 100%;\\n  padding: 12px;\\n  margin-top: 5px;\\n  font-size: 1rem;\\n  letter-spacing: 1px;\\n  text-align: center;\\n}\\nion-content #addressOpen {\\n  display: none;\\n}\\nion-content .addressInput {\\n  width: 100%;\\n  border: 1px solid var(--ion-color-light);\\n  padding: 10px;\\n  display: block;\\n  margin: 5px auto;\\n  background-clip: padding-box;\\n  border-radius: 5px;\\n  margin-bottom: 10px;\\n}\\nion-content .placeHint {\\n  border: 1px solid #ebebee;\\n  background: #fafafa;\\n  position: relative;\\n  z-index: 99;\\n  height: auto;\\n}\\nion-content .no-padding {\\n  padding: 0;\\n}\\nion-content .cleaner-btn {\\n  font-size: 14px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm15YWNjb3VudC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtBQUNGO0FBQ0U7RUFFRSxpQkFBQTtFQUNBLCtDQUFBO0FBQUo7QUFFRTtFQUNFLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FBQUo7QUFHRTtFQUNFLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLHFCQUFBO0VBQ0EsZ0JBQUE7QUFESjtBQUlFO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0FBRko7QUFJRTtFQUNJLGFBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUFGTjtBQUtFO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLDRCQUFBO0FBSEo7QUFJSTtFQUNFLGdCQUFBO0VBQ0EsNEJBQUE7RUFDQSxpQkFBQTtBQUZOO0FBTUU7RUFDRSxZQUFBO0VBQ0Esc0JBQUE7QUFKSjtBQU9FO0VBQ0UsMkJBQUE7QUFMSjtBQVFFO0VBQ0Usa0JBQUE7QUFOSjtBQU9JO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7QUFMUjtBQVVFO0VBQ0UseUJBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtBQVJKO0FBY0U7RUFDRSxhQUFBO0FBWko7QUFnQkU7RUFDRSxXQUFBO0VBQ0Esd0NBQUE7RUFDQSxhQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsNEJBQUE7RUFHQSxrQkFBQTtFQUNBLG1CQUFBO0FBaEJKO0FBbUJFO0VBQ0UseUJBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUFqQko7QUFtQkU7RUFDRSxVQUFBO0FBakJKO0FBb0JFO0VBQ0UsZUFBQTtBQWxCSiIsImZpbGUiOiJteWFjY291bnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuXG4gIGlvbi1pdGVte1xuICAgIC8vIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xuICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItbGlnaHQpO1xuICB9XG4gIGgye1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDFyZW07XG4gICAgbWFyZ2luOiAxNXB4IGF1dG87XG4gIH1cblxuICAuYWRkcmVzcy1oZWFkaW5ne1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDFyZW07XG4gICAgbWFyZ2luOiAxNXB4IGF1dG8gNXB4O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIH1cblxuICAuaW1hZ2UtY29udGFpbmVye1xuICAgIG1hcmdpbjogYXV0bztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cbiAgLmltYWdle1xuICAgICAgaGVpZ2h0OiAxMjVweDtcbiAgICAgIHdpZHRoOiAxMjVweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgfVxuXG4gIC5kZXRhaWxze1xuICAgIG1hcmdpbjogMTVweCBhdXRvO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmF5KTtcbiAgICBpb24tcm93e1xuICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgICB9XG4gIH1cblxuICAuZWRpdGljb257XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIH1cblxuICBpb24taXRlbTpmaXJzdC1jaGlsZHtcbiAgICBib3JkZXItdG9wOiBub25lICFpbXBvcnRhbnQ7XG4gIH1cblxuICAudXBsb2FkZXJ7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGltZ3tcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICByaWdodDogMTBweDtcbiAgICAgICAgYm90dG9tOiAxMHB4O1xuICAgICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgfVxuICB9XG5cblxuICAucmVzZXRpbnB1dHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWJlYmVlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBhZGRpbmc6IDEycHg7XG4gICAgbWFyZ2luLXRvcDogNXB4O1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICBsZXR0ZXItc3BhY2luZzogMXB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG5cblxuICAvLyBhZGRyZXNzIG9wZW4gY2xvc2VcbiAgI2FkZHJlc3NPcGVue1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuXG4gIC5hZGRyZXNzSW5wdXR7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbjogNXB4IGF1dG87XG4gICAgYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDtcblxuICAgIC8vIGJvcmRlciByYWRpdXMgZml4XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIH1cblxuICAucGxhY2VIaW50e1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNlYmViZWU7XG4gICAgYmFja2dyb3VuZDogI2ZhZmFmYTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogOTk7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICB9XG4gIC5uby1wYWRkaW5ne1xuICAgIHBhZGRpbmc6IDA7XG4gIH1cblxuICAuY2xlYW5lci1idG57XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICB9XG5cblxufVxuIl19 */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"ion-text-uppercase\\\">My Account</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n    <div *ngIf=\\\"!loggedUser?.image\\\" class=\\\"thumb-image central\\\" (click)=\\\"presentActionSheet()\\\">\\n        <ion-icon class=\\\"thumb-icon\\\" name=\\\"person\\\"></ion-icon>\\n    </div>\\n    <div class=\\\"image-container\\\" (click)=\\\"presentActionSheet()\\\">\\n      <img *ngIf=\\\"loggedUser?.image\\\" class=\\\"image\\\" src=\\\"{{utilityService.uploadPath}}profile/{{loggedUser?.image}}\\\"/>\\n    </div>\\n\\n    <div class=\\\"details\\\">\\n      <ion-row>\\n          <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n            <input class=\\\"addressInput\\\" type=\\\"text\\\" placeholder=\\\"Name\\\" [(ngModel)]=\\\"user.name\\\">\\n            <input class=\\\"addressInput\\\" type=\\\"tel\\\" placeholder=\\\"Mobile\\\" [(ngModel)]=\\\"user.phone\\\">\\n            <input class=\\\"addressInput\\\" type=\\\"text\\\" placeholder=\\\"Flat / House Number\\\" [(ngModel)]=\\\"user.house_number\\\">\\n            <input class=\\\"addressInput\\\" type=\\\"text\\\" placeholder=\\\"Address\\\" [(ngModel)]=\\\"user.address\\\">\\n            <input class=\\\"addressInput\\\" type=\\\"text\\\" placeholder=\\\"Postcode\\\" [(ngModel)]=\\\"user.postcode\\\" (ngModelChange)=\\\"user.postcode = $event.toLocaleUpperCase()\\\">\\n            <ion-button expand=\\\"block\\\" class=\\\"base-button cleaner-btn\\\" (click)=\\\"updateProfile()\\\">UPDATE PROFILE</ion-button>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n            <ion-button expand=\\\"block\\\" class=\\\"base-button cleaner-btn\\\" (click)=\\\"updateCard()\\\">UPDATE PAYMENT METHOD</ion-button>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n            <input class=\\\"addressInput\\\" type=\\\"password\\\" placeholder=\\\"Old Password\\\" [(ngModel)]=\\\"oldpass\\\">\\n            <input class=\\\"addressInput\\\" type=\\\"password\\\" placeholder=\\\"New Password\\\" [(ngModel)]=\\\"newpass\\\">\\n            <ion-button expand=\\\"block\\\" class=\\\"base-button cleaner-btn\\\" (click)=\\\"updatePassword()\\\">UPDATE PASSWORD</ion-button>\\n          </ion-col>\\n      </ion-row>\\n    </div>\\n</ion-content>\\n\";"],"sourceRoot":"webpack:///"}