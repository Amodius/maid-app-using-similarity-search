{"version":3,"sources":["webpack:///src/app/pages/orderreview/orderreview-routing.module.ts","webpack:///src/app/pages/orderreview/orderreview.module.ts","webpack:///src/app/pages/orderreview/orderreview.page.ts","webpack:///src/app/pages/orderreview/orderreview.page.scss","webpack:///src/app/pages/orderreview/orderreview.page.html"],"names":["routes","path","component","OrderreviewPage","OrderreviewPageRoutingModule","NgModule","imports","RouterModule","exports","OrderreviewPageModule","CommonModule","FormsModule","IonicModule","declarations","localService","restService","utilityService","eventsService","router","activatedRoute","iab","location","alertCtrl","bookingdetails","total","price","discount","couponApplied","settings","paymentButtonDisabled","originalTotal","originalPrice","taxSettings","extraServices","extraTotal","taxTotal","loggedUser","getUser","queryParams","subscribe","params","data","JSON","parse","console","log","address","trim","getSettings","currency","currency_symbol","loadingOpen","getData","hours","response","forEach","item","type","parseFloat","value","toFixed","push","length","tax_applied","stringify","extra_services","element","loadingClose","error","back","err","create","header","message","inputs","name","placeholder","buttons","text","handler","coupon","postData","coupon_id","id","openAlerts","prompt","present","user_id","success","status","successfull","navigateByUrl","failed","browser","STRIPE_PAYMENT_URL","hardwareback","hidenavigationbuttons","hideurlbar","fullscreen","zoom","clearcache","toolbar","on","e","url","STRIPE_SUCCESS_PAYMENT_URL","close","STRIPE_FAILED_PAYMENT_URL","frequencies","LocalService","RestService","UtilityService","EventsService","Router","ActivatedRoute","InAppBrowser","Location","AlertController","Component","selector","template"],"mappings":"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","file":"src_app_pages_orderreview_orderreview_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OrderreviewPage } from './orderreview.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OrderreviewPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OrderreviewPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OrderreviewPageRoutingModule } from './orderreview-routing.module';\n\nimport { OrderreviewPage } from './orderreview.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OrderreviewPageRoutingModule\n  ],\n  declarations: [OrderreviewPage]\n})\nexport class OrderreviewPageModule {}\n","/* eslint-disable @typescript-eslint/naming-convention */\nimport { Component, OnInit } from '@angular/core';\nimport { AlertController } from '@ionic/angular';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { LocalService } from '../../services/local.service';\nimport { RestService } from '../../services/rest.service';\nimport { UtilityService } from '../../services/utility.service';\nimport { EventsService } from '../../services/events.service';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport { Location } from '@angular/common';\n\n@Component({\n  selector: 'app-orderreview',\n  templateUrl: './orderreview.page.html',\n  styleUrls: ['./orderreview.page.scss'],\n})\nexport class OrderreviewPage implements OnInit {\n  bookingdetails: any = {};\n  total: any = 0;\n  price: any = 0;\n  discount: any = 0;\n  couponApplied = false;\n  loggedUser: any;\n  settings: any = {};\n  currency: any;\n\n  // payment disabled flag\n  paymentButtonDisabled = false;\n\n  // original\n  originalTotal: any = 0;\n  originalPrice: any = 0;\n\n  // tax settings\n  taxSettings = [];\n\n  // extra services\n  extraServices = [];\n  extraTotal: any = 0;\n  taxTotal: any = 0;\n\n  constructor(\n    public localService: LocalService,\n    public restService: RestService,\n    public utilityService: UtilityService,\n    public eventsService: EventsService,\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    private iab: InAppBrowser,\n    private location: Location,\n    private alertCtrl: AlertController\n  ) {\n    this.loggedUser = this.localService.getUser();\n    this.activatedRoute.queryParams.subscribe((params: any) => {\n      if (params.data) {\n        this.bookingdetails = JSON.parse(params.data);\n        console.log('received in orderreview page: ', this.bookingdetails);\n\n        // trim whitespace from address\n        this.bookingdetails.address = this.bookingdetails.address.trim();\n\n        this.settings = this.localService.getSettings();\n        this.currency = this.settings.currency_symbol;\n\n        this.utilityService.loadingOpen('Getting details...');\n        this.restService\n          .getData('getprice/' + this.bookingdetails.hours)\n          .subscribe(\n            (data) => {\n              this.total = data.price;\n              this.price = this.total;\n\n              // store the original in safe place in case coupon\n              this.originalTotal = this.originalPrice = data.price;\n\n              // retrive tax informations\n              this.taxSettings = [];\n              this.taxTotal = 0;\n              this.restService.getData('gettaxsettings').subscribe(response => {\n                response.forEach(item => {\n                  if (item.type === 'percentage') {\n                    item.price = ((parseFloat(this.total) * item.value) / 100).toFixed(2);\n                  } else {\n                    // flat\n                    item.price = item.value;\n                  }\n                  this.taxTotal += parseFloat(item.price);\n                  this.taxSettings.push(item);\n                });\n\n                // add tax applied data in booking data\n                if (this.taxSettings.length > 0) {\n                  this.bookingdetails.tax_applied = JSON.stringify(this.taxSettings);\n                }\n\n                // extra services added\n                this.extraTotal = 0;\n                if (this.bookingdetails.extra_services) {\n                  const extra_services = JSON.parse(this.bookingdetails.extra_services);\n                  extra_services.forEach(element => {\n                    this.extraTotal += parseFloat(element.price);\n                  });\n                }\n\n                // update price including tax & extra services\n                this.price = (parseFloat(this.total) + parseFloat(this.taxTotal) + parseFloat(this.extraTotal));\n                this.price = parseFloat(this.price).toFixed(2);\n                this.originalPrice = this.price;\n                this.utilityService.loadingClose();\n              }, error => {\n                this.utilityService.loadingClose();\n                // back the user\n                this.location.back();\n              });\n            },\n            (err) => {\n              this.utilityService.loadingClose();\n              // back the user\n              this.location.back();\n            }\n          );\n      }\n    });\n  }\n\n  ngOnInit() {}\n\n  async openCoupon() {\n    const prompt = await this.alertCtrl.create({\n      header: 'Apply coupon code',\n      message: 'Discount will be applied on total value',\n      inputs: [\n        {\n          name: 'coupon',\n          placeholder: 'Enter coupon',\n        },\n      ],\n      buttons: [\n        {\n          text: 'Cancel',\n          handler: (data) => {\n            console.log('Cancel clicked');\n          },\n        },\n        {\n          text: 'Apply',\n          handler: (data) => {\n            if (!data || !data.coupon ||  data.coupon === '') {return;}\n            // reset prices\n            this.total = this.originalTotal;\n            this.price = this.originalPrice;\n            this.couponApplied = false;\n\n            this.restService\n              .postData('applycoupon', { coupon: data.coupon })\n              .subscribe(\n                (response) => {\n                  if (response.type === 'percentage') {\n                    // percentage\n                    this.discount = ((this.price * response.value) / 100).toFixed(2);\n                    this.price = (this.price - this.discount).toFixed(2);\n                    this.couponApplied = true;\n                  } else {\n                    // flat\n                    this.discount = response.value;\n                    if (parseFloat(this.price) > parseFloat(response.value)) {\n                      this.price = (this.price - response.value).toFixed(2);\n                      this.couponApplied = true;\n                    } else {\n                      // coupon value is greater than total so make price 0\n                      this.price = 0;\n                      this.couponApplied = true;\n                    }\n                  }\n                  this.bookingdetails.coupon_id = response.id;\n                },\n                (err) => {\n                  this.utilityService.openAlerts('Oops!', err.error.error, 'ok');\n                }\n              );\n          },\n        },\n      ],\n    });\n    prompt.present();\n  }\n\n  pay() {\n    // disable payment button\n    this.paymentButtonDisabled = true;\n\n    // create pending booking then forward for payment\n    const postData = this.bookingdetails;\n\n    // exclude tax from original total : to make cleaners payble amount\n    postData.total = (\n      parseFloat(this.originalTotal) + parseFloat(this.extraTotal)\n    ).toFixed(2);\n    postData.total = parseFloat(postData.total);\n\n    // payble price for user\n    postData.price = parseFloat(this.price);\n\n    postData.user_id = this.loggedUser.id;\n\n    this.restService.postData('createjob', postData).subscribe(\n      (data) => {\n        if (this.price > 0) {\n          // try to charge if existing stripe customer\n          this.restService\n            .postData(\n              'chargeexistingcustomer/' +\n                this.loggedUser.id +\n                '/' +\n                data.id +\n                '/' +\n                data.price,\n              {}\n            )\n            .subscribe(\n              (success) => {\n                // charged successfully using existing stripe_customer_id\n                // call api for job status change\n                this.utilityService.loadingOpen(\n                  'Confirming & notifying cleaners..'\n                );\n                this.restService\n                  .postData('jobstatuschange', { id: data.id, status: 'paid' })\n                  .subscribe(\n                    (successfull) => {\n                      this.utilityService.loadingClose();\n                    },\n                    (err) => {\n                      this.utilityService.openAlerts(\n                        'Oops!',\n                        'Error notifying cleaners, please contact us.',\n                        'ok'\n                      );\n                    }\n                );\n                this.router.navigateByUrl('/confirmedbooking?job_id=' + data.id);\n              },\n              (failed) => {\n                // 404 = new user to charge\n                // 403 = charge failed so again start as new user\n                // 400 = error charging\n                // open stripe sca in app browser\n                const browser = this.iab.create(\n                  this.settings.STRIPE_PAYMENT_URL + '/' + data.id,\n                  '_blank',\n                  {\n                    location: 'no',\n                    hardwareback: 'no',\n                    hidenavigationbuttons: 'yes',\n                    hideurlbar: 'yes',\n                    fullscreen: 'yes',\n                    zoom: 'no',\n                    clearcache: 'yes',\n                    toolbar: 'yes',\n                  }\n                );\n\n                browser.on('loadstart').subscribe((e) => {\n                  //console.log(e.url);\n                  if (e.url === this.settings.STRIPE_SUCCESS_PAYMENT_URL) {\n                    // payment success\n                    browser.close();\n                    // call api for job status change\n                    this.utilityService.loadingOpen(\n                      'Confirming & notifying cleaners..'\n                    );\n                    this.restService\n                      .postData('jobstatuschange', {\n                        id: data.id,\n                        status: 'paid',\n                      })\n                      .subscribe(\n                        (success) => {\n                          this.utilityService.loadingClose();\n                        },\n                        (err) => {\n                          this.utilityService.openAlerts(\n                            'Oops!',\n                            'Error notifying cleaners, please contact us.',\n                            'ok'\n                          );\n                        }\n                    );\n                    this.router.navigateByUrl(\n                      '/confirmedbooking?job_id=' + data.id\n                    );\n                  } else if (e.url === this.settings.STRIPE_FAILED_PAYMENT_URL) {\n                    // payment failed\n                    browser.close();\n                    this.router.navigateByUrl('/bookings');\n                  }\n                });\n              }\n            );\n        } else {\n          // coupon applied or price is 0\n          // call api for job status change\n          this.utilityService.loadingOpen('Confirming & notifying cleaners..');\n          this.restService\n            .postData('jobstatuschange', { id: data.id, status: 'paid' })\n            .subscribe(\n              (success) => {\n                this.utilityService.loadingClose();\n              },\n              (err) => {\n                this.utilityService.openAlerts(\n                  'Oops!',\n                  'Error notifying cleaners, please contact us.',\n                  'ok'\n                );\n              }\n          );\n          this.router.navigateByUrl('/confirmedbooking?job_id=' + data.id);\n        }\n      },\n      (err) => {\n        // error\n        console.log(err);\n        this.utilityService.openAlerts('Error!', err.error.error, 'try again');\n      }\n    );\n  }\n\n  getFrequency(name) {\n    return this.utilityService.frequencies[name];\n  }\n}\n","export default \"ion-content .heading {\\n  font-size: 0.8rem;\\n}\\nion-content .image-section {\\n  margin-top: 10px;\\n  border-bottom: 1px solid var(--ion-color-gray);\\n  padding-bottom: 15px;\\n}\\nion-content .profile-image {\\n  height: 140px;\\n  width: 140px;\\n  border-radius: 50%;\\n  background-color: black;\\n}\\nion-content .profile-name-section {\\n  height: 100%;\\n  position: relative;\\n  text-transform: uppercase;\\n  text-align: center;\\n}\\nion-content .profile-name-section .name-container {\\n  position: absolute;\\n  top: 50%;\\n  left: 0;\\n  right: 0;\\n  transform: translateY(-50%);\\n}\\nion-content .profile-name-section h2 {\\n  font-size: 2.5rem;\\n  font-weight: 600;\\n  margin-bottom: 5px;\\n  letter-spacing: 1px;\\n}\\nion-content .order-details-section {\\n  text-transform: uppercase;\\n  color: var(--ion-color-dark);\\n  margin: 10px 25px;\\n  font-size: 0.8rem;\\n}\\nion-content .order-details-section h4 {\\n  font-size: 1.6rem;\\n  font-weight: 600;\\n}\\nion-content .order-details-section .heading {\\n  font-weight: 500;\\n}\\nion-content .order-details-section .desc {\\n  color: var(--ion-color-dark);\\n}\\nion-content .order-details-section ion-col {\\n  padding: 3px;\\n}\\nion-content .order-details-section .total {\\n  margin-top: 8px;\\n  font-weight: 500;\\n}\\nion-content .pricing-section {\\n  text-transform: uppercase;\\n  color: var(--ion-color-dark);\\n  margin: 10px 25px;\\n}\\nion-content .pricing-section ion-row {\\n  margin: 10px auto;\\n}\\nion-content .pricing-section .pricing {\\n  font-size: 0.8rem;\\n  padding: 0;\\n}\\nion-content strong {\\n  letter-spacing: 1px;\\n}\\nion-content .coupon {\\n  letter-spacing: 0.8px;\\n  font-size: 0.7rem;\\n  margin: auto;\\n  padding: 0 10px;\\n  min-height: 35px;\\n}\\nion-content .redeem-text {\\n  margin-top: 15px;\\n  text-align: center;\\n  font-size: 0.7rem;\\n  font-weight: bold;\\n  line-height: 1rem;\\n  font-style: italic;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVycmV2aWV3LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLGlCQUFBO0FBQUo7QUFFRTtFQUNFLGdCQUFBO0VBQ0EsOENBQUE7RUFDQSxvQkFBQTtBQUFKO0FBRUU7RUFDSSxhQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsdUJBQUE7QUFBTjtBQUdFO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtBQURKO0FBR0k7RUFDRSxrQkFBQTtFQUNBLFFBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLDJCQUFBO0FBRE47QUFHSTtFQUNFLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0FBRE47QUFPRTtFQUNFLHlCQUFBO0VBQ0EsNEJBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0FBTEo7QUFPSTtFQUNFLGlCQUFBO0VBQ0EsZ0JBQUE7QUFMTjtBQVFJO0VBQ0UsZ0JBQUE7QUFOTjtBQVFJO0VBQ0UsNEJBQUE7QUFOTjtBQVNJO0VBQ0UsWUFBQTtBQVBOO0FBVUk7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUFSTjtBQWFFO0VBRUUseUJBQUE7RUFDQSw0QkFBQTtFQUNBLGlCQUFBO0FBWko7QUFjSTtFQUNFLGlCQUFBO0FBWk47QUFlSTtFQUNFLGlCQUFBO0VBQ0EsVUFBQTtBQWJOO0FBb0JFO0VBQ0UsbUJBQUE7QUFsQko7QUFxQkU7RUFDRSxxQkFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGVBQUE7RUFFQSxnQkFBQTtBQXBCSjtBQXVCRTtFQUNFLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGlCQUFBO0VBRUEsaUJBQUE7RUFDQSxrQkFBQTtBQXRCSiIsImZpbGUiOiJvcmRlcnJldmlldy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG4gIC5oZWFkaW5ne1xuICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuICB9XG4gIC5pbWFnZS1zZWN0aW9ue1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWlvbi1jb2xvci1ncmF5KTtcbiAgICBwYWRkaW5nLWJvdHRvbToxNXB4O1xuICB9XG4gIC5wcm9maWxlLWltYWdle1xuICAgICAgaGVpZ2h0OiAxNDBweDtcbiAgICAgIHdpZHRoOiAxNDBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xuICB9XG5cbiAgLnByb2ZpbGUtbmFtZS1zZWN0aW9ue1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG5cbiAgICAubmFtZS1jb250YWluZXJ7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDUwJTtcbiAgICAgIGxlZnQ6IDA7XG4gICAgICByaWdodDogMDtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgICB9XG4gICAgaDJ7XG4gICAgICBmb250LXNpemU6IDIuNXJlbTtcbiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICBtYXJnaW4tYm90dG9tOiA1cHg7XG4gICAgICBsZXR0ZXItc3BhY2luZzogMXB4O1xuICAgIH1cbiAgfVxuXG5cblxuICAub3JkZXItZGV0YWlscy1zZWN0aW9ue1xuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgICBtYXJnaW46IDEwcHggMjVweDtcbiAgICBmb250LXNpemU6IDAuOHJlbTtcblxuICAgIGg0e1xuICAgICAgZm9udC1zaXplOiAxLjZyZW07XG4gICAgICBmb250LXdlaWdodDogNjAwO1xuICAgIH1cblxuICAgIC5oZWFkaW5ne1xuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB9XG4gICAgLmRlc2N7XG4gICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICAgIH1cblxuICAgIGlvbi1jb2x7XG4gICAgICBwYWRkaW5nOiAzcHg7XG4gICAgfVxuXG4gICAgLnRvdGFse1xuICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB9XG4gIH1cblxuXG4gIC5wcmljaW5nLXNlY3Rpb257XG5cbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgbWFyZ2luOiAxMHB4IDI1cHg7XG5cbiAgICBpb24tcm93e1xuICAgICAgbWFyZ2luOiAxMHB4IGF1dG87XG4gICAgfVxuXG4gICAgLnByaWNpbmd7XG4gICAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgICAgIHBhZGRpbmc6IDA7XG4gICAgfVxuXG5cblxuICB9XG5cbiAgc3Ryb25ne1xuICAgIGxldHRlci1zcGFjaW5nOiAxcHg7XG4gIH1cblxuICAuY291cG9ue1xuICAgIGxldHRlci1zcGFjaW5nOiAwLjhweDtcbiAgICBmb250LXNpemU6IDAuN3JlbTtcbiAgICBtYXJnaW46IGF1dG87XG4gICAgcGFkZGluZzogMCAxMHB4O1xuICAgIC8vIGhlaWdodDogYXV0bztcbiAgICBtaW4taGVpZ2h0OiAzNXB4O1xuICB9XG5cbiAgLnJlZGVlbS10ZXh0e1xuICAgIG1hcmdpbi10b3A6IDE1cHg7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogMC43cmVtO1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIC8vIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItYmFzZSk7XG4gICAgbGluZS1oZWlnaHQ6IDFyZW07XG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xuICB9XG59XG4iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"ion-text-uppercase\\\">Booking Details</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-row class=\\\"order-details-section\\\">\\n    <ion-col size=\\\"12\\\" *ngIf=\\\"bookingdetails?.house_number\\\">\\n      <ion-row>\\n          <ion-col size=\\\"9\\\" class=\\\"heading\\\">Flat / House Number</ion-col>\\n          <ion-col size=\\\"3\\\" class=\\\"desc ion-text-right\\\">{{bookingdetails?.house_number}}</ion-col>\\n      </ion-row>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\">\\n      <ion-row>\\n          <ion-col size=\\\"3\\\" class=\\\"heading\\\">Address</ion-col>\\n          <ion-col size=\\\"9\\\" class=\\\"desc ion-text-right\\\">{{bookingdetails?.address}}, {{bookingdetails?.postcode}}</ion-col>\\n      </ion-row>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\">\\n        <ion-row>\\n            <ion-col class=\\\"heading\\\">Date</ion-col>\\n            <ion-col class=\\\"desc ion-text-right\\\">{{bookingdetails?.date | date: 'EEE, dd-MM-y'}}</ion-col>\\n        </ion-row>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\">\\n        <ion-row>\\n            <ion-col class=\\\"heading\\\">Time</ion-col>\\n            <ion-col class=\\\"desc ion-text-right\\\">{{bookingdetails?.time}}</ion-col>\\n        </ion-row>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\">\\n        <ion-row>\\n            <ion-col class=\\\"heading\\\">Frequency</ion-col>\\n            <ion-col class=\\\"desc ion-text-right\\\">{{getFrequency(bookingdetails?.frequency)}}</ion-col>\\n        </ion-row>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\">\\n        <ion-row>\\n            <ion-col class=\\\"heading\\\">Hours Required</ion-col>\\n            <ion-col class=\\\"desc ion-text-right\\\">{{bookingdetails?.hours}}</ion-col>\\n        </ion-row>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\">\\n        <ion-row>\\n            <ion-col class=\\\"heading\\\">Bedrooms</ion-col>\\n            <ion-col class=\\\"desc ion-text-right\\\">{{bookingdetails?.bedrooms}}</ion-col>\\n        </ion-row>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\">\\n        <ion-row>\\n            <ion-col class=\\\"heading\\\">Bathrooms</ion-col>\\n            <ion-col class=\\\"desc ion-text-right\\\">{{bookingdetails?.bathrooms}}</ion-col>\\n        </ion-row>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\">\\n        <ion-row>\\n            <ion-col class=\\\"heading total\\\">Total</ion-col>\\n            <ion-col class=\\\"total ion-text-right\\\"><strong>{{currency}}{{total}}</strong></ion-col>\\n        </ion-row>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row class=\\\"pricing-section\\\">\\n      <ion-col size=\\\"10\\\" offset=\\\"1\\\">\\n        <div class=\\\"hr\\\"></div>\\n      </ion-col>\\n      <ion-col size=\\\"12\\\">\\n          <ion-row *ngIf=\\\"extraTotal > 0\\\">\\n              <ion-col size=\\\"8\\\" class=\\\"pricing\\\">Add-on Services</ion-col>\\n              <ion-col size=\\\"4\\\" class=\\\"pricing ion-text-right\\\"><strong>{{currency}}{{extraTotal}}</strong></ion-col>\\n          </ion-row>\\n\\n          <div *ngIf=\\\"taxSettings.length > 0\\\">\\n            <ion-row *ngFor=\\\"let tax of taxSettings\\\" >\\n              <ion-col size=\\\"8\\\" class=\\\"pricing\\\">{{tax?.label}}</ion-col>\\n              <ion-col size=\\\"4\\\" class=\\\"pricing ion-text-right\\\"><strong>{{currency}}{{tax.price}}</strong></ion-col>\\n            </ion-row>\\n          </div>\\n\\n          <ion-row *ngIf=\\\"couponApplied\\\">\\n              <ion-col size=\\\"8\\\" class=\\\"pricing\\\">DISCOUNT</ion-col>\\n              <ion-col size=\\\"4\\\" class=\\\"pricing ion-text-right\\\"><strong>-{{currency}}{{discount}}</strong></ion-col>\\n          </ion-row>\\n          <ion-row>\\n              <ion-col size=\\\"8\\\" class=\\\"pricing\\\"><strong>Amount Payable</strong></ion-col>\\n              <ion-col size=\\\"4\\\" class=\\\"pricing ion-text-right\\\"><strong>{{currency}}{{price}}</strong></ion-col>\\n          </ion-row>\\n          <ion-row>\\n            <ion-col class=\\\"ion-text-center redeem-text\\\" size=\\\"12\\\" (click)=\\\"openCoupon()\\\">Got a discount code? Click here to redeem</ion-col>\\n          </ion-row>\\n      </ion-col>\\n  </ion-row>\\n\\n  <ion-row>\\n    <ion-col size=\\\"10\\\" offset=\\\"1\\\">\\n        <ion-button expand=\\\"block\\\" [disabled]=\\\"paymentButtonDisabled\\\" class=\\\"base-button cleaner-btn\\\" (click)=\\\"pay()\\\">PAY</ion-button>\\n    </ion-col>\\n  </ion-row>\\n</ion-content>\\n\";"]}