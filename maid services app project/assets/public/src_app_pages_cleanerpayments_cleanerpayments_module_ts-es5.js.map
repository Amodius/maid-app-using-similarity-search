{"version":3,"sources":["webpack:///src/app/pages/cleanerpayments/cleanerpayments-routing.module.ts","webpack:///src/app/pages/cleanerpayments/cleanerpayments.module.ts","webpack:///src/app/pages/cleanerpayments/cleanerpayments.page.ts","webpack:///src/app/pages/cleanerpayments/cleanerpayments.page.scss","webpack:///src/app/pages/cleanerpayments/cleanerpayments.page.html"],"names":["routes","path","component","CleanerpaymentsPage","CleanerpaymentsPageRoutingModule","NgModule","imports","RouterModule","exports","CleanerpaymentsPageModule","CommonModule","FormsModule","IonicModule","declarations","localService","restService","utilityService","eventsService","router","activatedRoute","months","loggedCleaner","getCleaner","currency","getSettings","currency_symbol","year","Date","getFullYear","month","getMonth","slice","id","name","currentMonth","loadingOpen","postData","subscribe","data","loadingClose","console","log","report","error","navigate","LocalService","RestService","UtilityService","EventsService","Router","ActivatedRoute","Component","selector","template"],"mappings":"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","file":"src_app_pages_cleanerpayments_cleanerpayments_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { CleanerpaymentsPage } from './cleanerpayments.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CleanerpaymentsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class CleanerpaymentsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { CleanerpaymentsPageRoutingModule } from './cleanerpayments-routing.module';\n\nimport { CleanerpaymentsPage } from './cleanerpayments.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    CleanerpaymentsPageRoutingModule\n  ],\n  declarations: [CleanerpaymentsPage]\n})\nexport class CleanerpaymentsPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { EventsService } from 'src/app/services/events.service';\nimport { LocalService } from 'src/app/services/local.service';\nimport { RestService } from 'src/app/services/rest.service';\nimport { UtilityService } from 'src/app/services/utility.service';\n\n@Component({\n  selector: 'app-cleanerpayments',\n  templateUrl: './cleanerpayments.page.html',\n  styleUrls: ['./cleanerpayments.page.scss'],\n})\nexport class CleanerpaymentsPage implements OnInit {\n  loggedCleaner: any;\n  report: any;\n  month: any;\n  year: any;\n  months: any = [];\n  currentMonth: any;\n  currency: any;\n  constructor(\n    public localService: LocalService,\n    public restService: RestService,\n    public utilityService: UtilityService,\n    public eventsService: EventsService,\n    private router: Router,\n    private activatedRoute: ActivatedRoute\n  ) {\n    this.loggedCleaner = this.localService.getCleaner();\n    this.currency = this.localService.getSettings().currency_symbol;\n    // set current year & month by default\n    this.year = new Date().getFullYear();\n    this.month = ('0' + (new Date().getMonth() + 1)).slice(-2);\n    // console.log(this.month, this.year);\n    //months\n    this.months = [\n      { id: '0', name: 'January' },\n      { id: '1', name: 'February' },\n      { id: '2', name: 'March' },\n      { id: '3', name: 'April' },\n      { id: '4', name: 'May' },\n      { id: '5', name: 'June' },\n      { id: '6', name: 'July' },\n      { id: '7', name: 'August' },\n      { id: '8', name: 'September' },\n      { id: '9', name: 'October' },\n      { id: '10', name: 'November' },\n      { id: '11', name: 'December' },\n    ];\n\n    this.currentMonth = new Date().getMonth();\n    // select current month\n    this.month = this.currentMonth;\n    //console.log(this.month);\n    this.utilityService.loadingOpen('Loading...');\n    this.restService\n      .postData('cleaner/' + this.loggedCleaner.id + '/transactions', {\n        month: this.month,\n      })\n      .subscribe(\n        (data) => {\n          this.utilityService.loadingClose();\n          console.log(data);\n          this.report = data;\n        },\n        (error) => {}\n      );\n  }\n\n  ngOnInit() {}\n\n  refreshData() {\n    this.currentMonth = this.month;\n    this.utilityService.loadingOpen('Updating...');\n    this.restService\n      .postData('cleaner/' + this.loggedCleaner.id + '/transactions', {\n        month: this.month,\n      })\n      .subscribe(\n        (data) => {\n          this.utilityService.loadingClose();\n          console.log(data);\n          this.report = data;\n        },\n        (error) => {}\n      );\n  }\n\n  openNotifications() {\n    this.router.navigate(['/cleanernotifications']);\n  }\n}\n","export default \"ion-content .order-details-section {\\n  text-transform: uppercase;\\n  color: var(--ion-color-dark);\\n  margin: 10px 25px;\\n  font-size: 0.8rem;\\n}\\nion-content .order-details-section h4 {\\n  font-size: 1rem;\\n  font-weight: 600;\\n}\\nion-content .order-details-section .heading {\\n  font-weight: 500;\\n  font-size: 0.8rem;\\n}\\nion-content .order-details-section .desc {\\n  color: var(--ion-color-dark);\\n}\\nion-content .order-details-section ion-col {\\n  padding: 3px;\\n}\\nion-content .order-details-section .total {\\n  margin-top: 8px;\\n  font-weight: 500;\\n}\\nion-content .pricing-section {\\n  text-transform: uppercase;\\n  color: var(--ion-color-dark);\\n  margin: 10px 25px;\\n}\\nion-content .pricing-section ion-row {\\n  margin: 10px auto;\\n}\\nion-content .pricing-section .pricing {\\n  font-size: 0.8rem;\\n  padding: 0;\\n}\\nion-content .select {\\n  width: 100% !important;\\n  font-size: 0.8rem !important;\\n  margin-bottom: auto;\\n}\\nion-content ion-select, ion-content ion-input, ion-content ion-textarea {\\n  --background: transparent !important;\\n  background-color: transparent !important;\\n  border: 1px solid var(--ion-color-light);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsZWFuZXJwYXltZW50cy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSx5QkFBQTtFQUNBLDRCQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtBQUFKO0FBRUk7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUFBTjtBQUdJO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtBQUROO0FBR0k7RUFDRSw0QkFBQTtBQUROO0FBSUk7RUFDRSxZQUFBO0FBRk47QUFLSTtFQUNFLGVBQUE7RUFDQSxnQkFBQTtBQUhOO0FBUUU7RUFFRSx5QkFBQTtFQUNBLDRCQUFBO0VBQ0EsaUJBQUE7QUFQSjtBQVNJO0VBQ0UsaUJBQUE7QUFQTjtBQVVJO0VBQ0UsaUJBQUE7RUFDQSxVQUFBO0FBUk47QUFhRTtFQUNJLHNCQUFBO0VBQ0EsNEJBQUE7RUFDQSxtQkFBQTtBQVhOO0FBY0U7RUFDQyxvQ0FBQTtFQUNBLHdDQUFBO0VBQ0Esd0NBQUE7QUFaSCIsImZpbGUiOiJjbGVhbmVycGF5bWVudHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xuICAub3JkZXItZGV0YWlscy1zZWN0aW9ue1xuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1kYXJrKTtcbiAgICBtYXJnaW46IDEwcHggMjVweDtcbiAgICBmb250LXNpemU6IDAuOHJlbTtcblxuICAgIGg0e1xuICAgICAgZm9udC1zaXplOiAxcmVtO1xuICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICB9XG5cbiAgICAuaGVhZGluZ3tcbiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgICB9XG4gICAgLmRlc2N7XG4gICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhcmspO1xuICAgIH1cblxuICAgIGlvbi1jb2x7XG4gICAgICBwYWRkaW5nOiAzcHg7XG4gICAgfVxuXG4gICAgLnRvdGFse1xuICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICB9XG4gIH1cblxuXG4gIC5wcmljaW5nLXNlY3Rpb257XG5cbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgbWFyZ2luOiAxMHB4IDI1cHg7XG5cbiAgICBpb24tcm93e1xuICAgICAgbWFyZ2luOiAxMHB4IGF1dG87XG4gICAgfVxuXG4gICAgLnByaWNpbmd7XG4gICAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgICAgIHBhZGRpbmc6IDA7XG4gICAgfVxuXG4gIH1cblxuICAuc2VsZWN0e1xuICAgICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbiAgICAgIGZvbnQtc2l6ZTogMC44cmVtICFpbXBvcnRhbnQ7XG4gICAgICBtYXJnaW4tYm90dG9tOiBhdXRvO1xuICAgIH1cblxuICBpb24tc2VsZWN0LCBpb24taW5wdXQsIGlvbi10ZXh0YXJlYXtcbiAgIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgIWltcG9ydGFudDtcbiAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50ICFpbXBvcnRhbnQ7XG4gICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItbGlnaHQpO1xuICB9XG59XG4iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"ion-text-uppercase\\\">Payments</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"openNotifications()\\\">\\n        <ion-icon class=\\\"notification-icon\\\" name=\\\"notifications-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n  <ion-row>\\n    <ion-col size=\\\"12\\\">\\n      <ion-select class=\\\"select\\\" [(ngModel)]=\\\"month\\\"  (ionChange)=\\\"refreshData()\\\" placeholder=\\\"SELECT MONTH\\\">\\n        <ion-select-option value=\\\"{{month.id}}\\\" *ngFor=\\\"let month of months\\\">{{month.name}}</ion-select-option>\\n      </ion-select>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row class=\\\"order-details-section\\\">\\n    <ion-col size=\\\"12\\\">\\n        <h4 class=\\\"ion-text-center\\\">{{months[currentMonth].name}} Report</h4>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\">\\n      <ion-row>\\n          <ion-col class=\\\"heading\\\">Total</ion-col>\\n          <ion-col class=\\\"desc ion-text-right\\\">{{currency}} {{report?.total | number : '1.2-2'}}</ion-col>\\n      </ion-row>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\">\\n        <ion-row>\\n            <ion-col class=\\\"heading\\\">Full refunded</ion-col>\\n            <ion-col class=\\\"desc ion-text-right\\\">{{currency}} {{report?.full_refunds | number : '1.2-2'}}</ion-col>\\n        </ion-row>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\">\\n        <ion-row>\\n            <ion-col class=\\\"heading\\\">Partial refunded</ion-col>\\n            <ion-col class=\\\"desc ion-text-right\\\">{{currency}} {{report?.partial_refunds | number : '1.2-2'}}</ion-col>\\n        </ion-row>\\n    </ion-col>\\n  </ion-row>\\n\\n\\n  <ion-row class=\\\"pricing-section\\\">\\n    <ion-col size=\\\"10\\\" offset=\\\"1\\\">\\n      <div class=\\\"hr\\\"></div>\\n    </ion-col>\\n    <ion-col size=\\\"12\\\">\\n        <ion-row>\\n            <ion-col size=\\\"8\\\" class=\\\"pricing\\\"><strong>Payable</strong></ion-col>\\n            <ion-col size=\\\"4\\\" class=\\\"pricing ion-text-right\\\"><strong>{{currency}}{{report?.payout | number : '1.2-2'}}</strong></ion-col>\\n        </ion-row>\\n        <ion-row>\\n          <ion-col size=\\\"8\\\" class=\\\"pricing\\\">Paid</ion-col>\\n          <ion-col size=\\\"4\\\" class=\\\"pricing ion-text-right\\\">{{currency}}{{report?.paid | number : '1.2-2'}}</ion-col>\\n      </ion-row>\\n    </ion-col>\\n  </ion-row>\\n</ion-content>\\n\";"]}