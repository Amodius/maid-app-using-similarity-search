{"version":3,"sources":["webpack:///src/app/pages/bookings/bookings-routing.module.ts","webpack:///src/app/pages/bookings/bookings.module.ts","webpack:///src/app/pages/bookings/bookings.page.ts","webpack:///src/app/pages/bookings/bookings.page.scss","webpack:///src/app/pages/bookings/bookings.page.html"],"names":["routes","path","component","BookingsPage","BookingsPageRoutingModule","NgModule","imports","RouterModule","exports","BookingsPageModule","CommonModule","FormsModule","IonicModule","declarations","localService","restService","utilityService","eventsService","router","segment","bookings","pendingBookings","loggeduser","getUser","currency","getSettings","currency_symbol","loadingOpen","getData","id","subscribe","data","success","loadingClose","err","navigate","queryParams","event","target","complete","LocalService","RestService","UtilityService","EventsService","Router","Component","selector","template"],"mappings":"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","file":"src_app_pages_bookings_bookings_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { BookingsPage } from './bookings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BookingsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BookingsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BookingsPageRoutingModule } from './bookings-routing.module';\n\nimport { BookingsPage } from './bookings.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BookingsPageRoutingModule\n  ],\n  declarations: [BookingsPage]\n})\nexport class BookingsPageModule {}\n","/* eslint-disable object-shorthand */\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { LocalService } from '../../services/local.service';\nimport { RestService } from '../../services/rest.service';\nimport { UtilityService } from '../../services/utility.service';\nimport { EventsService } from '../../services/events.service';\n\n@Component({\n  selector: 'app-bookings',\n  templateUrl: './bookings.page.html',\n  styleUrls: ['./bookings.page.scss'],\n})\nexport class BookingsPage implements OnInit {\n  loggeduser: any;\n  segment: any = 'current';\n\n  bookings: any = [];\n  pendingBookings: any = [];\n  currency: any;\n  constructor(\n    public localService: LocalService,\n    public restService: RestService,\n    public utilityService: UtilityService,\n    public eventsService: EventsService,\n    private router: Router\n  ) {\n    this.loggeduser = this.localService.getUser();\n    this.currency = this.localService.getSettings().currency_symbol;\n    this.utilityService.loadingOpen('Loading...');\n    this.restService\n      .getData('user/' + this.loggeduser.id + '/bookings')\n      .subscribe(\n        (data) => {\n          this.bookings = data;\n          this.restService\n            .getData('user/' + this.loggeduser.id + '/pendingbookings')\n            .subscribe(\n              (success) => {\n                this.pendingBookings = success;\n                this.utilityService.loadingClose();\n              },\n              (err) => {\n                // handle error\n              }\n            );\n        },\n        (err) => {\n          // handle error\n        }\n      );\n  }\n\n  ngOnInit() {}\n\n  bookingDetails(id) {\n    this.router.navigate(['/orderdetails'], {\n      queryParams: {\n        id: id,\n      },\n    });\n  }\n\n  doRefresh(event) {\n    this.restService\n      .getData('user/' + this.loggeduser.id + '/bookings')\n      .subscribe(\n        (data) => {\n          this.bookings = data;\n          this.restService\n            .getData('user/' + this.loggeduser.id + '/pendingbookings')\n            .subscribe(\n              (success) => {\n                this.pendingBookings = success;\n                event.target.complete();\n              },\n              (err) => {\n                // handle error\n                event.target.complete();\n              }\n            );\n        },\n        (err) => {\n          // handle error\n          event.target.complete();\n        }\n      );\n  }\n}\n","export default \"ion-content ion-thumbnail {\\n  --size: 75px;\\n}\\nion-content ion-thumbnail img {\\n  border-radius: 50%;\\n}\\nion-content .details {\\n  color: var(--ion-color-dark);\\n  font-weight: 400;\\n  text-transform: uppercase;\\n  letter-spacing: 0.5px;\\n  font-size: 0.8rem;\\n  width: 100%;\\n}\\nion-content .details .name {\\n  font-size: 0.8rem;\\n}\\nion-content .details .price {\\n  font-size: 0.8rem;\\n}\\nion-content .details .address {\\n  white-space: normal !important;\\n  font-size: 0.6rem;\\n}\\nion-content .date-time {\\n  white-space: normal !important;\\n  font-size: 0.6rem;\\n}\\nion-content ion-item:first-child {\\n  border-top: none !important;\\n}\\nion-content .small-icon {\\n  max-width: 10px;\\n  vertical-align: middle;\\n}\\nion-content .central-page {\\n  margin-top: 20px;\\n}\\nion-content .thumb {\\n  height: 60px;\\n  width: 60px;\\n  background: var(--ion-color-light);\\n  border-radius: 50%;\\n  position: relative;\\n  text-align: center;\\n}\\nion-content .thumb .title {\\n  position: absolute;\\n  top: 40%;\\n  left: 0;\\n  right: 0;\\n  transform: translateY(-50%);\\n  color: var(--ion-color-base);\\n  font-size: 0.4rem;\\n  text-transform: uppercase;\\n  letter-spacing: 0.4px;\\n  line-height: 10px;\\n}\\nion-content .thumb .thumb-icon {\\n  line-height: 60px;\\n  margin-top: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb2tpbmdzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHSTtFQUNFLFlBQUE7QUFGTjtBQUdNO0VBQ0Usa0JBQUE7QUFEUjtBQUtJO0VBQ0UsNEJBQUE7RUFDQSxnQkFBQTtFQUNBLHlCQUFBO0VBQ0EscUJBQUE7RUFDQSxpQkFBQTtFQUNBLFdBQUE7QUFITjtBQUtNO0VBQ0UsaUJBQUE7QUFIUjtBQU1NO0VBQ0UsaUJBQUE7QUFKUjtBQU9NO0VBQ0UsOEJBQUE7RUFDQSxpQkFBQTtBQUxSO0FBU0k7RUFDRSw4QkFBQTtFQUNBLGlCQUFBO0FBUE47QUFVSTtFQUNFLDJCQUFBO0FBUk47QUFXSTtFQUNFLGVBQUE7RUFDQSxzQkFBQTtBQVROO0FBWUk7RUFDRSxnQkFBQTtBQVZOO0FBYUk7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGtDQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0FBWFI7QUFhUTtFQUNFLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsMkJBQUE7RUFDQSw0QkFBQTtFQUNBLGlCQUFBO0VBQ0EseUJBQUE7RUFDQSxxQkFBQTtFQUNBLGlCQUFBO0FBWFY7QUFjUTtFQUNFLGlCQUFBO0VBRUEsZ0JBQUE7QUFiViIsImZpbGUiOiJib29raW5ncy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XG5cblxuICAgIGlvbi10aHVtYm5haWx7XG4gICAgICAtLXNpemU6IDc1cHg7XG4gICAgICBpbWd7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAuZGV0YWlsc3tcbiAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgICBmb250LXdlaWdodDogNDAwO1xuICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgIGxldHRlci1zcGFjaW5nOiAwLjVweDtcbiAgICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuICAgICAgd2lkdGg6IDEwMCU7XG5cbiAgICAgIC5uYW1le1xuICAgICAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgICAgIH1cblxuICAgICAgLnByaWNle1xuICAgICAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgICAgIH1cblxuICAgICAgLmFkZHJlc3N7XG4gICAgICAgIHdoaXRlLXNwYWNlOiBub3JtYWwgIWltcG9ydGFudDtcbiAgICAgICAgZm9udC1zaXplOiAwLjZyZW07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLmRhdGUtdGltZXtcbiAgICAgIHdoaXRlLXNwYWNlOiBub3JtYWwgIWltcG9ydGFudDtcbiAgICAgIGZvbnQtc2l6ZTogMC42cmVtO1xuICAgIH1cblxuICAgIGlvbi1pdGVtOmZpcnN0LWNoaWxke1xuICAgICAgYm9yZGVyLXRvcDogbm9uZSAhaW1wb3J0YW50O1xuICAgIH1cblxuICAgIC5zbWFsbC1pY29ue1xuICAgICAgbWF4LXdpZHRoOiAxMHB4O1xuICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICB9XG5cbiAgICAuY2VudHJhbC1wYWdle1xuICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICB9XG5cbiAgICAudGh1bWJ7XG4gICAgICAgIGhlaWdodDogNjBweDtcbiAgICAgICAgd2lkdGg6IDYwcHg7XG4gICAgICAgIGJhY2tncm91bmQ6IHZhcigtLWlvbi1jb2xvci1saWdodCk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG5cbiAgICAgICAgLnRpdGxle1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICB0b3A6IDQwJTtcbiAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcbiAgICAgICAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWJhc2UpO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMC40cmVtO1xuICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gICAgICAgICAgbGV0dGVyLXNwYWNpbmc6IDAuNHB4O1xuICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgLnRodW1iLWljb257XG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDYwcHg7XG4gICAgICAgICAgLy8gZm9udC1zaXplOiAzLjVyZW0gIWltcG9ydGFudDtcbiAgICAgICAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgICAgICB9XG4gICAgfVxuXG59XG4iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"ion-text-uppercase\\\">Bookings</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n      <ion-refresher-content></ion-refresher-content>\\n    </ion-refresher>\\n    <div class=\\\"booking-buttons-container\\\">\\n      <ion-segment [(ngModel)]=\\\"segment\\\">\\n        <ion-segment-button value=\\\"current\\\">\\n          My Bookings\\n        </ion-segment-button>\\n        <ion-segment-button value=\\\"pending\\\">\\n          Pending Bookings\\n        </ion-segment-button>\\n      </ion-segment>\\n    </div>\\n\\n    <ion-row>\\n        <ion-col>\\n            <div class=\\\"hr\\\"></div>\\n        </ion-col>\\n    </ion-row>\\n\\n    <div [ngSwitch]=\\\"segment\\\">\\n      <ion-list *ngSwitchCase=\\\"'current'\\\">\\n        <ion-item *ngFor=\\\"let booking of bookings\\\" (click)=\\\"bookingDetails(booking.id)\\\">\\n          <ion-thumbnail slot=\\\"start\\\">\\n            <div class=\\\"thumb\\\" *ngIf=\\\"!booking?.cleaner?.image\\\">\\n              <!-- <p class=\\\"title\\\">No Image available</p> -->\\n              <ion-icon class=\\\"thumb-icon\\\" name=\\\"person\\\"></ion-icon>\\n            </div>\\n            <img *ngIf=\\\"booking?.cleaner?.image\\\" src=\\\"{{utilityService.uploadPath}}profile/{{booking?.cleaner?.image}}\\\">\\n          </ion-thumbnail>\\n          <div class=\\\"details\\\">\\n                <ion-row>\\n                  <ion-col size=\\\"9\\\" class=\\\"name\\\">{{booking?.cleaner?.name}}</ion-col>\\n                  <ion-col size=\\\"3\\\" class=\\\"price ion-text-right\\\">{{currency}}{{booking?.price}}</ion-col>\\n                </ion-row>\\n                <ion-row>\\n                  <ion-col size=\\\"12\\\" class=\\\"address\\\"><img class=\\\"small-icon\\\" src=\\\"/assets/images/Location.png\\\" /> {{booking?.address}}</ion-col>\\n                </ion-row>\\n                <ion-row>\\n                    <ion-col size=\\\"8\\\" class=\\\"date-time\\\"><img class=\\\"small-icon\\\" src=\\\"/assets/images/Date.png\\\" /> {{booking?.date | date: 'dd-MM-y'}}</ion-col>\\n                    <ion-col size=\\\"4\\\" class=\\\"ion-text-right date-time\\\"><img class=\\\"small-icon\\\" src=\\\"/assets/images/Time.png\\\" /> {{booking?.time}}</ion-col>\\n                </ion-row>\\n          </div>\\n        </ion-item>\\n        <ion-item>\\n          <div class=\\\"central-page\\\" *ngIf=\\\"bookings.length === 0\\\">\\n            <div class=\\\"notfound\\\">No results found</div>\\n          </div>\\n        </ion-item>\\n      </ion-list>\\n\\n      <ion-list *ngSwitchCase=\\\"'pending'\\\">\\n        <ion-item *ngFor=\\\"let booking of pendingBookings\\\" (click)=\\\"bookingDetails(booking.id)\\\">\\n          <ion-thumbnail slot=\\\"start\\\">\\n            <div class=\\\"thumb\\\">\\n              <p class=\\\"title\\\" *ngIf=\\\"booking.status === 'paid'\\\">Pending Confirmation</p>\\n              <p class=\\\"title\\\" *ngIf=\\\"booking.status === 'pending'\\\">Pending Payment</p>\\n              <p class=\\\"title\\\" *ngIf=\\\"booking.status === 'cancelled-cleaner'\\\">Pending Cleaner reassign</p>\\n              <p class=\\\"title\\\" *ngIf=\\\"booking.status === 'cancelled-user' || booking.status === 'cancelled-admin'\\\">Cancelled</p>\\n            </div>\\n          </ion-thumbnail>\\n          <div class=\\\"details\\\">\\n                <ion-row>\\n                  <ion-col size=\\\"9\\\" class=\\\"name\\\">{{booking?.user?.name}}</ion-col>\\n                  <ion-col size=\\\"3\\\" class=\\\"price ion-text-right\\\">{{currency}}{{booking?.price}}</ion-col>\\n                </ion-row>\\n                <ion-row>\\n                  <ion-col size=\\\"12\\\" class=\\\"address\\\"><img class=\\\"small-icon\\\" src=\\\"/assets/images/Location.png\\\" /> {{booking?.address}}</ion-col>\\n                </ion-row>\\n                <ion-row>\\n                    <ion-col size=\\\"8\\\" class=\\\"date-time\\\"><img class=\\\"small-icon\\\" src=\\\"/assets/images/Date.png\\\" /> {{booking?.date | date: 'dd-MM-y'}}</ion-col>\\n                    <ion-col size=\\\"4\\\" class=\\\"ion-text-right date-time\\\"><img class=\\\"small-icon\\\" src=\\\"/assets/images/Time.png\\\" /> {{booking?.time}}</ion-col>\\n                </ion-row>\\n          </div>\\n        </ion-item>\\n        <ion-item>\\n          <div class=\\\"central-page\\\" *ngIf=\\\"pendingBookings.length === 0\\\">\\n            <div class=\\\"notfound\\\">No results found</div>\\n          </div>\\n        </ion-item>\\n      </ion-list>\\n    </div>\\n\\n</ion-content>\\n\";"]}