{"version":3,"sources":["webpack:///node_modules/@capacitor/device/dist/esm/web.js"],"names":["DeviceWeb","uuid","getUid","navigator","userAgent","unavailable","ua","uaFields","parseUa","model","platform","operatingSystem","osVersion","manufacturer","vendor","isVirtual","webViewVersion","browserVersion","getBattery","battery","batteryLevel","level","isCharging","charging","value","language","start","indexOf","end","fields","substring","tmpFields","replace","split","pop","oscpu","lastParts","length","test","window","MSStream","isFirefox","InstallTrigger","isSafari","ApplePaySession","isChrome","chrome","isEdge","isFirefoxIOS","isChromeIOS","isEdgeIOS","searchWord","words","word","includes","version","reverseUA","reverse","join","reverseVersion","uid","localStorage","getItem","uuid4","setItem","c","r","Math","random","v","toString","WebPlugin"],"mappings":"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","file":"node_modules_capacitor_device_dist_esm_web_js-es5.js","sourcesContent":["import { WebPlugin } from '@capacitor/core';\nexport class DeviceWeb extends WebPlugin {\n    async getId() {\n        return {\n            uuid: this.getUid(),\n        };\n    }\n    async getInfo() {\n        if (typeof navigator === 'undefined' || !navigator.userAgent) {\n            throw this.unavailable('Device API not available in this browser');\n        }\n        const ua = navigator.userAgent;\n        const uaFields = this.parseUa(ua);\n        return {\n            model: uaFields.model,\n            platform: 'web',\n            operatingSystem: uaFields.operatingSystem,\n            osVersion: uaFields.osVersion,\n            manufacturer: navigator.vendor,\n            isVirtual: false,\n            webViewVersion: uaFields.browserVersion,\n        };\n    }\n    async getBatteryInfo() {\n        if (typeof navigator === 'undefined' || !navigator.getBattery) {\n            throw this.unavailable('Device API not available in this browser');\n        }\n        let battery = {};\n        try {\n            battery = await navigator.getBattery();\n        }\n        catch (e) {\n            // Let it fail, we don't care\n        }\n        return {\n            batteryLevel: battery.level,\n            isCharging: battery.charging,\n        };\n    }\n    async getLanguageCode() {\n        return {\n            value: navigator.language,\n        };\n    }\n    parseUa(ua) {\n        const uaFields = {};\n        const start = ua.indexOf('(') + 1;\n        let end = ua.indexOf(') AppleWebKit');\n        if (ua.indexOf(') Gecko') !== -1) {\n            end = ua.indexOf(') Gecko');\n        }\n        const fields = ua.substring(start, end);\n        if (ua.indexOf('Android') !== -1) {\n            const tmpFields = fields.replace('; wv', '').split('; ').pop();\n            if (tmpFields) {\n                uaFields.model = tmpFields.split(' Build')[0];\n            }\n            uaFields.osVersion = fields.split('; ')[1];\n        }\n        else {\n            uaFields.model = fields.split('; ')[0];\n            if (typeof navigator !== 'undefined' && navigator.oscpu) {\n                uaFields.osVersion = navigator.oscpu;\n            }\n            else {\n                if (ua.indexOf('Windows') !== -1) {\n                    uaFields.osVersion = fields;\n                }\n                else {\n                    const tmpFields = fields.split('; ').pop();\n                    if (tmpFields) {\n                        const lastParts = tmpFields\n                            .replace(' like Mac OS X', '')\n                            .split(' ');\n                        uaFields.osVersion = lastParts[lastParts.length - 1].replace(/_/g, '.');\n                    }\n                }\n            }\n        }\n        if (/android/i.test(ua)) {\n            uaFields.operatingSystem = 'android';\n        }\n        else if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) {\n            uaFields.operatingSystem = 'ios';\n        }\n        else if (/Win/.test(ua)) {\n            uaFields.operatingSystem = 'windows';\n        }\n        else if (/Mac/i.test(ua)) {\n            uaFields.operatingSystem = 'mac';\n        }\n        else {\n            uaFields.operatingSystem = 'unknown';\n        }\n        // Check for browsers based on non-standard javascript apis, only not user agent\n        const isFirefox = !!window.InstallTrigger;\n        const isSafari = !!window.ApplePaySession;\n        const isChrome = !!window.chrome;\n        const isEdge = /Edg/.test(ua);\n        const isFirefoxIOS = /FxiOS/.test(ua);\n        const isChromeIOS = /CriOS/.test(ua);\n        const isEdgeIOS = /EdgiOS/.test(ua);\n        // FF and Edge User Agents both end with \"/MAJOR.MINOR\"\n        if (isSafari ||\n            (isChrome && !isEdge) ||\n            isFirefoxIOS ||\n            isChromeIOS ||\n            isEdgeIOS) {\n            // Safari version comes as     \"... Version/MAJOR.MINOR ...\"\n            // Chrome version comes as     \"... Chrome/MAJOR.MINOR ...\"\n            // FirefoxIOS version comes as \"... FxiOS/MAJOR.MINOR ...\"\n            // ChromeIOS version comes as  \"... CriOS/MAJOR.MINOR ...\"\n            let searchWord;\n            if (isFirefoxIOS) {\n                searchWord = 'FxiOS';\n            }\n            else if (isChromeIOS) {\n                searchWord = 'CriOS';\n            }\n            else if (isEdgeIOS) {\n                searchWord = 'EdgiOS';\n            }\n            else if (isSafari) {\n                searchWord = 'Version';\n            }\n            else {\n                searchWord = 'Chrome';\n            }\n            const words = ua.split(' ');\n            for (const word of words) {\n                if (word.includes(searchWord)) {\n                    const version = word.split('/')[1];\n                    uaFields.browserVersion = version;\n                }\n            }\n        }\n        else if (isFirefox || isEdge) {\n            const reverseUA = ua.split('').reverse().join('');\n            const reverseVersion = reverseUA.split('/')[0];\n            const version = reverseVersion.split('').reverse().join('');\n            uaFields.browserVersion = version;\n        }\n        return uaFields;\n    }\n    getUid() {\n        if (typeof window !== 'undefined') {\n            let uid = window.localStorage.getItem('_capuid');\n            if (uid) {\n                return uid;\n            }\n            uid = this.uuid4();\n            window.localStorage.setItem('_capuid', uid);\n            return uid;\n        }\n        return this.uuid4();\n    }\n    uuid4() {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n            const r = (Math.random() * 16) | 0, v = c === 'x' ? r : (r & 0x3) | 0x8;\n            return v.toString(16);\n        });\n    }\n}\n//# sourceMappingURL=web.js.map"]}