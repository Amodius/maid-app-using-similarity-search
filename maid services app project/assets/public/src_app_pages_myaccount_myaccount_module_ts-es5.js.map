{"version":3,"sources":["webpack:///src/app/pages/myaccount/myaccount-routing.module.ts","webpack:///src/app/pages/myaccount/myaccount.module.ts","webpack:///src/app/pages/myaccount/myaccount.page.ts","webpack:///src/app/pages/myaccount/myaccount.page.scss","webpack:///src/app/pages/myaccount/myaccount.page.html"],"names":["routes","path","component","MyaccountPage","MyaccountPageRoutingModule","NgModule","imports","RouterModule","exports","MyaccountPageModule","CommonModule","FormsModule","IonicModule","declarations","localService","restService","utilityService","eventsService","router","activatedRoute","actionSheetCtrl","iab","transfer","sanitizer","lastImage","address","postcode","user","oldpass","newpass","settings","loggedUser","getUser","getSettings","create","header","buttons","text","handler","takePicture","CameraSource","Camera","actionSheet","present","sourceType","options","quality","allowEditing","resultType","CameraResultType","source","uploadImage","id","userId","fileKey","fileName","Date","getTime","chunkedMode","mimeType","params","image","fileTransfer","loadingOpen","upload","baseURL","then","data","loadingClose","console","log","response","JSON","parse","setUser","updateMenuByEvents","err","publish","updateData","name","phone","house_number","length","openAlerts","postData","subscribe","newpassword","oldpassword","error","browser","STRIPE_CARD_UPDATE_URL","location","hardwareback","hidenavigationbuttons","hideurlbar","fullscreen","zoom","clearcache","toolbar","on","e","url","STRIPE_SUCCESS_PAYMENT_URL","close","STRIPE_FAILED_PAYMENT_URL","LocalService","RestService","UtilityService","EventsService","Router","ActivatedRoute","ActionSheetController","InAppBrowser","FileTransfer","DomSanitizer","Component","selector","template"],"mappings":"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","file":"src_app_pages_myaccount_myaccount_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyaccountPage } from './myaccount.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyaccountPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyaccountPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyaccountPageRoutingModule } from './myaccount-routing.module';\n\nimport { MyaccountPage } from './myaccount.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MyaccountPageRoutingModule\n  ],\n  declarations: [MyaccountPage]\n})\nexport class MyaccountPageModule {}\n","/* eslint-disable @typescript-eslint/naming-convention */\nimport { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { EventsService } from 'src/app/services/events.service';\nimport { LocalService } from 'src/app/services/local.service';\nimport { RestService } from 'src/app/services/rest.service';\nimport { UtilityService } from 'src/app/services/utility.service';\nimport { ActionSheetController } from '@ionic/angular';\nimport { Camera, CameraResultType, CameraSource } from '@capacitor/camera';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport {\n  FileTransfer,\n  FileUploadOptions,\n  FileTransferObject,\n} from '@ionic-native/file-transfer/ngx';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Component({\n  selector: 'app-myaccount',\n  templateUrl: './myaccount.page.html',\n  styleUrls: ['./myaccount.page.scss'],\n})\nexport class MyaccountPage implements OnInit {\n  loggedUser: any;\n  lastImage: any = null;\n  address: any = '';\n  postcode: any = '';\n  user: any = {};\n  oldpass: any = '';\n  newpass: any = '';\n  settings: any = {};\n  constructor(\n    public localService: LocalService,\n    public restService: RestService,\n    public utilityService: UtilityService,\n    public eventsService: EventsService,\n    private router: Router,\n    private activatedRoute: ActivatedRoute,\n    public actionSheetCtrl: ActionSheetController,\n    private iab: InAppBrowser,\n    private transfer: FileTransfer,\n    private sanitizer: DomSanitizer\n  ) {\n    this.loggedUser = this.localService.getUser();\n    this.user = this.loggedUser;\n    this.settings = this.localService.getSettings();\n  }\n\n  ngOnInit() {}\n  // image uploading section =========================\n  async presentActionSheet() {\n    const actionSheet = await this.actionSheetCtrl.create({\n      header: 'Select Image Source',\n      buttons: [\n        {\n          text: 'Select from Library',\n          handler: () => {\n            this.takePicture(CameraSource.Photos);\n          },\n        },\n        {\n          text: 'Use Camera',\n          handler: () => {\n            this.takePicture(CameraSource.Camera);\n          },\n        },\n      ],\n    });\n    actionSheet.present();\n  }\n\n  async takePicture(sourceType) {\n    // Create options for the Camera Dialog\n    const options = {\n      quality: 90,\n      allowEditing: false,\n      resultType: CameraResultType.Uri,\n      source: sourceType,\n    };\n    this.lastImage = await Camera.getPhoto(options);\n    this.uploadImage(this.loggedUser.id);\n  }\n\n  uploadImage(userId) {\n    const options = {\n      fileKey: 'image',\n      fileName: `file-${new Date().getTime()}.jpg`,\n      chunkedMode: false,\n      mimeType: 'multipart/form-data',\n      params: {\n        fileName: `file-${new Date().getTime()}.jpg`,\n        image: `file-${new Date().getTime()}.jpg`,\n      },\n    };\n    const fileTransfer: FileTransferObject = this.transfer.create();\n    this.utilityService.loadingOpen('Uploading...');\n    fileTransfer\n      .upload(\n        this.lastImage.path,\n        this.restService.baseURL + 'user/update_user_image/' + userId,\n        options\n      )\n      .then(\n        (data) => {\n          this.utilityService.loadingClose();\n          console.log(data);\n          // clear the last data\n          this.lastImage = null;\n          // update the loggedUser\n          const response = JSON.parse(data.response);\n          this.localService.setUser(response);\n          this.loggedUser = response;\n          // update menu data\n          this.updateMenuByEvents();\n        },\n        (err) => {\n          console.log(err);\n          this.utilityService.loadingClose();\n        }\n    );\n  }\n\n  updateMenuByEvents() {\n    this.eventsService.publish('menu', 'user');\n  }\n\n  // new update\n  updateProfile() {\n    const updateData = {\n      id: this.user.id,\n      name: this.user.name,\n      phone: this.user.phone,\n      house_number: this.user.house_number,\n      address: this.user.address,\n      postcode: this.user.postcode,\n    };\n    if (this.user.name.length < 2) {\n      return this.utilityService.openAlerts('Oops!', 'Name required.', 'ok');\n    }\n    if (this.user.phone) {\n      if (this.user.phone.length < 8) {\n        return this.utilityService.openAlerts(\n          'Oops!',\n          'Valid mobile number required.',\n          'ok'\n        );\n      }\n    } else {\n      // phone null\n      delete updateData.phone;\n    }\n    if (this.user.address) {\n      if (this.user.address.length < 5) {\n        return this.utilityService.openAlerts(\n          'Oops!',\n          'Valid address required.',\n          'ok'\n        );\n      }\n    } else {\n      // address null\n      delete updateData.address;\n    }\n    if (this.user.postcode) {\n      if (this.user.postcode.length < 2) {\n        return this.utilityService.openAlerts(\n          'Oops!',\n          'Valid postcode required.',\n          'ok'\n        );\n      }\n    } else {\n      // postcode null\n      delete updateData.postcode;\n    }\n\n    this.utilityService.loadingOpen('Updating...');\n    this.restService.postData('user/update_profile', updateData).subscribe(\n      (data) => {\n        this.loggedUser = data;\n        this.localService.setUser(data);\n        this.utilityService.loadingClose();\n        this.utilityService.openAlerts('Done!', 'Successfully updated.', 'ok');\n      },\n      (err) => {\n        this.utilityService.loadingClose();\n        this.utilityService.openAlerts('Oops!', 'Error upating.', 'ok');\n      }\n    );\n  }\n\n  updatePassword() {\n    if (this.oldpass === '' || this.newpass === '') {\n      return this.utilityService.openAlerts(\n        'Oops!',\n        'Both old & new password required.',\n        'ok'\n      );\n    }\n    if (this.newpass.length < 6) {\n      return this.utilityService.openAlerts(\n        'Oops!',\n        'New password must be 6 characters.',\n        'ok'\n      );\n    }\n    this.utilityService.loadingOpen('Updating...');\n    this.restService\n      .postData('user/update_profile', {\n        id: this.loggedUser.id,\n        newpassword: this.newpass,\n        oldpassword: this.oldpass,\n      })\n      .subscribe(\n        (data) => {\n          this.utilityService.loadingClose();\n          this.utilityService.openAlerts('Done!', 'Password updated.', 'ok');\n        },\n        (err) => {\n          this.utilityService.loadingClose();\n          this.utilityService.openAlerts('Oops!', err.error.error, 'ok');\n        }\n      );\n  }\n\n  updateCard() {\n    const browser = this.iab.create(\n      this.settings.STRIPE_CARD_UPDATE_URL + '/' + this.loggedUser.id,\n      '_blank',\n      {\n        location: 'no',\n        hardwareback: 'no',\n        hidenavigationbuttons: 'yes',\n        hideurlbar: 'yes',\n        fullscreen: 'yes',\n        zoom: 'no',\n        clearcache: 'yes',\n        toolbar: 'yes',\n      }\n    );\n\n    browser.on('loadstart').subscribe((e) => {\n      //console.log(e.url);\n      if (e.url === this.settings.STRIPE_SUCCESS_PAYMENT_URL) {\n        // update success\n        browser.close();\n        return this.utilityService.openAlerts(\n          'Done!',\n          'Payment method has been updated.',\n          'ok'\n        );\n      } else if (e.url === this.settings.STRIPE_FAILED_PAYMENT_URL) {\n        // payment failed\n        browser.close();\n        return this.utilityService.openAlerts(\n          'Oops!',\n          'We are unable to add this card as your payment method.',\n          'ok'\n        );\n      }\n    });\n  }\n}\n","export default \"ion-content {\\n  text-transform: uppercase;\\n}\\nion-content ion-item {\\n  font-size: 0.8rem;\\n  border-bottom: 1px solid var(--ion-color-light);\\n}\\nion-content h2 {\\n  text-align: center;\\n  font-size: 1rem;\\n  margin: 15px auto;\\n}\\nion-content .address-heading {\\n  text-align: center;\\n  font-size: 1rem;\\n  margin: 15px auto 5px;\\n  font-weight: 500;\\n}\\nion-content .image-container {\\n  margin: auto;\\n  text-align: center;\\n}\\nion-content .image {\\n  height: 125px;\\n  width: 125px;\\n  border-radius: 50%;\\n}\\nion-content .details {\\n  margin: 15px auto;\\n  font-weight: 400;\\n  color: var(--ion-color-gray);\\n}\\nion-content .details ion-row {\\n  font-weight: 400;\\n  color: var(--ion-color-dark);\\n  font-size: 0.8rem;\\n}\\nion-content .editicon {\\n  height: 20px;\\n  vertical-align: middle;\\n}\\nion-content ion-item:first-child {\\n  border-top: none !important;\\n}\\nion-content .uploader {\\n  position: relative;\\n}\\nion-content .uploader img {\\n  position: absolute;\\n  right: 10px;\\n  bottom: 10px;\\n  height: 30px;\\n}\\nion-content .resetinput {\\n  border: 1px solid #ebebee;\\n  width: 100%;\\n  padding: 12px;\\n  margin-top: 5px;\\n  font-size: 1rem;\\n  letter-spacing: 1px;\\n  text-align: center;\\n}\\nion-content #addressOpen {\\n  display: none;\\n}\\nion-content .addressInput {\\n  width: 100%;\\n  border: 1px solid var(--ion-color-light);\\n  padding: 10px;\\n  display: block;\\n  margin: 5px auto;\\n  background-clip: padding-box;\\n  border-radius: 5px;\\n  margin-bottom: 10px;\\n}\\nion-content .placeHint {\\n  border: 1px solid #ebebee;\\n  background: #fafafa;\\n  position: relative;\\n  z-index: 99;\\n  height: auto;\\n}\\nion-content .no-padding {\\n  padding: 0;\\n}\\nion-content .cleaner-btn {\\n  font-size: 14px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm15YWNjb3VudC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtBQUNGO0FBQ0U7RUFFRSxpQkFBQTtFQUNBLCtDQUFBO0FBQUo7QUFFRTtFQUNFLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FBQUo7QUFHRTtFQUNFLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLHFCQUFBO0VBQ0EsZ0JBQUE7QUFESjtBQUlFO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0FBRko7QUFJRTtFQUNJLGFBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUFGTjtBQUtFO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtFQUNBLDRCQUFBO0FBSEo7QUFJSTtFQUNFLGdCQUFBO0VBQ0EsNEJBQUE7RUFDQSxpQkFBQTtBQUZOO0FBTUU7RUFDRSxZQUFBO0VBQ0Esc0JBQUE7QUFKSjtBQU9FO0VBQ0UsMkJBQUE7QUFMSjtBQVFFO0VBQ0Usa0JBQUE7QUFOSjtBQU9JO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLFlBQUE7QUFMUjtBQVVFO0VBQ0UseUJBQUE7RUFDQSxXQUFBO0VBQ0EsYUFBQTtFQUNBLGVBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSxrQkFBQTtBQVJKO0FBY0U7RUFDRSxhQUFBO0FBWko7QUFnQkU7RUFDRSxXQUFBO0VBQ0Esd0NBQUE7RUFDQSxhQUFBO0VBQ0EsY0FBQTtFQUNBLGdCQUFBO0VBQ0EsNEJBQUE7RUFHQSxrQkFBQTtFQUNBLG1CQUFBO0FBaEJKO0FBbUJFO0VBQ0UseUJBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7QUFqQko7QUFtQkU7RUFDRSxVQUFBO0FBakJKO0FBb0JFO0VBQ0UsZUFBQTtBQWxCSiIsImZpbGUiOiJteWFjY291bnQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNvbnRlbnQge1xuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuXG4gIGlvbi1pdGVte1xuICAgIC8vIGJvcmRlcjogbm9uZSAhaW1wb3J0YW50O1xuICAgIGZvbnQtc2l6ZTogMC44cmVtO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1pb24tY29sb3ItbGlnaHQpO1xuICB9XG4gIGgye1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDFyZW07XG4gICAgbWFyZ2luOiAxNXB4IGF1dG87XG4gIH1cblxuICAuYWRkcmVzcy1oZWFkaW5ne1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXNpemU6IDFyZW07XG4gICAgbWFyZ2luOiAxNXB4IGF1dG8gNXB4O1xuICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIH1cblxuICAuaW1hZ2UtY29udGFpbmVye1xuICAgIG1hcmdpbjogYXV0bztcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIH1cbiAgLmltYWdle1xuICAgICAgaGVpZ2h0OiAxMjVweDtcbiAgICAgIHdpZHRoOiAxMjVweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgfVxuXG4gIC5kZXRhaWxze1xuICAgIG1hcmdpbjogMTVweCBhdXRvO1xuICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1ncmF5KTtcbiAgICBpb24tcm93e1xuICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFyayk7XG4gICAgICBmb250LXNpemU6IDAuOHJlbTtcbiAgICB9XG4gIH1cblxuICAuZWRpdGljb257XG4gICAgaGVpZ2h0OiAyMHB4O1xuICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XG4gIH1cblxuICBpb24taXRlbTpmaXJzdC1jaGlsZHtcbiAgICBib3JkZXItdG9wOiBub25lICFpbXBvcnRhbnQ7XG4gIH1cblxuICAudXBsb2FkZXJ7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGltZ3tcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICByaWdodDogMTBweDtcbiAgICAgICAgYm90dG9tOiAxMHB4O1xuICAgICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgfVxuICB9XG5cblxuICAucmVzZXRpbnB1dHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWJlYmVlO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBhZGRpbmc6IDEycHg7XG4gICAgbWFyZ2luLXRvcDogNXB4O1xuICAgIGZvbnQtc2l6ZTogMXJlbTtcbiAgICBsZXR0ZXItc3BhY2luZzogMXB4O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG5cblxuICAvLyBhZGRyZXNzIG9wZW4gY2xvc2VcbiAgI2FkZHJlc3NPcGVue1xuICAgIGRpc3BsYXk6IG5vbmU7XG4gIH1cblxuXG4gIC5hZGRyZXNzSW5wdXR7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0taW9uLWNvbG9yLWxpZ2h0KTtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbjogNXB4IGF1dG87XG4gICAgYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDtcblxuICAgIC8vIGJvcmRlciByYWRpdXMgZml4XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gIH1cblxuICAucGxhY2VIaW50e1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNlYmViZWU7XG4gICAgYmFja2dyb3VuZDogI2ZhZmFmYTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgei1pbmRleDogOTk7XG4gICAgaGVpZ2h0OiBhdXRvO1xuICB9XG4gIC5uby1wYWRkaW5ne1xuICAgIHBhZGRpbmc6IDA7XG4gIH1cblxuICAuY2xlYW5lci1idG57XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICB9XG5cblxufVxuIl19 */\";","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"ion-text-uppercase\\\">My Account</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-padding\\\">\\n    <div *ngIf=\\\"!loggedUser?.image\\\" class=\\\"thumb-image central\\\" (click)=\\\"presentActionSheet()\\\">\\n        <ion-icon class=\\\"thumb-icon\\\" name=\\\"person\\\"></ion-icon>\\n    </div>\\n    <div class=\\\"image-container\\\" (click)=\\\"presentActionSheet()\\\">\\n      <img *ngIf=\\\"loggedUser?.image\\\" class=\\\"image\\\" src=\\\"{{utilityService.uploadPath}}profile/{{loggedUser?.image}}\\\"/>\\n    </div>\\n\\n    <div class=\\\"details\\\">\\n      <ion-row>\\n          <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n            <input class=\\\"addressInput\\\" type=\\\"text\\\" placeholder=\\\"Name\\\" [(ngModel)]=\\\"user.name\\\">\\n            <input class=\\\"addressInput\\\" type=\\\"tel\\\" placeholder=\\\"Mobile\\\" [(ngModel)]=\\\"user.phone\\\">\\n            <input class=\\\"addressInput\\\" type=\\\"text\\\" placeholder=\\\"Flat / House Number\\\" [(ngModel)]=\\\"user.house_number\\\">\\n            <input class=\\\"addressInput\\\" type=\\\"text\\\" placeholder=\\\"Address\\\" [(ngModel)]=\\\"user.address\\\">\\n            <input class=\\\"addressInput\\\" type=\\\"text\\\" placeholder=\\\"Postcode\\\" [(ngModel)]=\\\"user.postcode\\\" (ngModelChange)=\\\"user.postcode = $event.toLocaleUpperCase()\\\">\\n            <ion-button expand=\\\"block\\\" class=\\\"base-button cleaner-btn\\\" (click)=\\\"updateProfile()\\\">UPDATE PROFILE</ion-button>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n            <ion-button expand=\\\"block\\\" class=\\\"base-button cleaner-btn\\\" (click)=\\\"updateCard()\\\">UPDATE PAYMENT METHOD</ion-button>\\n          </ion-col>\\n          <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n            <input class=\\\"addressInput\\\" type=\\\"password\\\" placeholder=\\\"Old Password\\\" [(ngModel)]=\\\"oldpass\\\">\\n            <input class=\\\"addressInput\\\" type=\\\"password\\\" placeholder=\\\"New Password\\\" [(ngModel)]=\\\"newpass\\\">\\n            <ion-button expand=\\\"block\\\" class=\\\"base-button cleaner-btn\\\" (click)=\\\"updatePassword()\\\">UPDATE PASSWORD</ion-button>\\n          </ion-col>\\n      </ion-row>\\n    </div>\\n</ion-content>\\n\";"]}